{% extends "page.html" %}
{% block content %}
    <h1>Editing permissions for {{ doc.name }}</h1>
    <form method="POST" action="">
        {% csrf_token %}

        {# Tabular forms display: http://djangosnippets.org/snippets/1442/ #}
        {{ forms.management_form }}
        {{ forms.non_form_errors.as_ul }}
        <table>
        {% for form in forms.forms %}
            {% if forloop.first %}
            <thead><tr>
                {% for field in form.visible_fields %}
                <th>{{ field.label|capfirst }}</th>
                {% endfor %}
            </tr></thead>
            {% endif %}
            <tr>
            {% for field in form.visible_fields %}
                <td>
                {% if forloop.first %}
                    {% for hidden in form.hidden_fields %}
                    {{ hidden }}
                    {% endfor %}
                {% endif %}
                    {{ field.errors.as_ul }}
                    {{ field }}
                </td>
            {% endfor %}
            </tr>
        {% endfor %}
        </table>
        <input type="submit" value="Save"/>
    </form>
{% endblock %}
